<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8 />
  <title>Coffee on Campus</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <meta charset="utf-8" />
  <script src='https://api.mapbox.com/mapbox.js/v2.3.0/mapbox.js'></script>
  <link href='https://api.mapbox.com/mapbox.js/v2.3.0/mapbox.css' rel='stylesheet' />
  <meta property="og:image" content="https://s3.amazonaws.com/media.dpn/55756_coffeebreakogimagef.png">
  <link rel="stylesheet" href="css/style.css">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.16/d3.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.css">
  <link rel="stylesheet" href="./css/style.css">

  <script src="https://use.typekit.net/psa2uuo.js"></script>
  <script>try{Typekit.load({ async: true });}catch(e){}</script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-707447-4', 'auto');
  ga('create', 'UA-55281509-16', 'auto');
  ga('send', 'pageview');
  </script>
  <script async='async' src='https://www.googletagservices.com/tag/js/gpt.js'></script>
  <script>
    var googletag = googletag || {};
    googletag.cmd = googletag.cmd || [];
  </script>

  <script>
    googletag.cmd.push(function() {
      googletag.defineSlot('/12234093/DP.com-Top-Rectangle', [300, 250], 'div-gpt-ad-1476229155955-0').addService(googletag.pubads());
      googletag.defineSlot('/12234093/DP.com-mobile-leaderboard', [320, 50], 'div-gpt-ad-1476229155955-1').addService(googletag.pubads());
      googletag.pubads().enableSingleRequest();
      googletag.enableServices();
    });
  </script>
</head>
<body>
  <header>
    <nav class="navbar navbar-default affix" role="navigation" data-spy="affix">
      <a class="navbar-brand" href="#"></a>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-left">
          <li class="search-field">
            <a href="https://www.thedp.com/" style="padding: 0">
              <img class="img inline" style="margin-bottom: -25px" src="https://s3.amazonaws.com/media.dpn/50935_dp_flag_in_squaretransparentp.png" width="40" />
            </a>
          </li>
          <li class="menu-toggle closed" id="section-dropdown-btn"><a>
            <span class="fa fa-bars"></span>
            <span class="menu-text">Sections</span></a>
          </li>
        </ul>
        <ul class="nav navbar-nav navbar-right social-icons">
          <li><a href="https://www.facebook.com/dailypenn" class="fa fa-facebook"></a></li>
          <li><a href="https://www.twitter.com/dailypenn" class="fa fa-twitter"></a></li>
          <li><a href="https://www.instagram.com/dailypenn" class="fa fa-instagram"></a></li>
        </ul>
      </div>
      <div class="row section-dropdown closed" id="section-dropdown">
        <div class="col-sm-10">
          <div class="section-list">
            <div class="col-sm-3">
              <h4>News</h4>
              <a href="https://www.thedp.com/section/academics">Academics</a> <br>
              <a href="https://www.thedp.com/section/administration">Administration</a> <br>
              <a href="https://www.thedp.com/section/admissions">Admissions</a> <br>
              <a href="https://www.thedp.com/section/crime">Crime</a> <br>
              <a href="https://www.thedp.com/section/politics">Politics</a> <br>
              <a href="https://www.thedp.com/section/philadelphia">Philadelphia</a> <br>
              <a href="https://www.thedp.com/section/">Student Life</a> <br>
            </div>
            <div class="col-sm-3">
              <h4>Sports</h4>
              <a href="https://www.thedp.com/section/m_hoops">Men's Basketball</a><br>
              <a href="https://www.thedp.com/section/w-hoops">Wrestling</a><br>
              <a href="https://www.thedp.com/section/wrestling">Men's Squash</a><br>
              <a href="https://www.thedp.com/section/m-squash">Women's Squash</a><br>
              <a href="https://www.thedp.com/section/womens_squash">Men's Swimming</a><br>
              <a href="https://www.thedp.com/section/track">Track</a>
            </div>
            <div class="col-sm-3">
              <h4>Opinion</h4>
              <a href="https://www.thedp.com/section/editorials">Staff Editorials</a><br>
              <a href="https://www.thedp.com/section/columns">Opinion Columns</a><br>
              <a href="https://www.thedp.com/section/letters">Letters to the Editor</a><br>
              <a href="https://www.thedp.com/section/opinion-art">Opinion Art</a><br>
              <a href="https://www.thedp.com/section/guest_columns">Guest Columns</a><br>
              <a href="https://www.thedp.com/section/opinion-submissions">Submit a Column</a>
            </div>
            <div class="col-sm-3">
              <h4>34<sup>th</sup> Street</h4>
              <a href="https://www.34st.com/section/highbrow">Highbrow</a><br>
              <a href="https://www.34st.com/section/ego">Ego</a><br>
              <a href="https://www.34st.com/section/music">Music</a><br>
              <a href="https://www.34st.com/section/film">Film</a><br>
              <a href="https://www.34st.com/section/food">Food &amp; Drink</a><br>
              <a href="https://www.34st.com/section/arts">Arts</a><br>
              <a href="https://www.34st.com/section/lowbrow">Lowbrow</a><br>
              <a href="https://www.34st.com/section/backpage">Backpage</a><br>
              <a href="https://www.34st.com/section/letters">Letter</a><br>
              <a href="https://www.34st.com/section/features">Features</a><br>
              <a href="https://www.34st.com/section/wots">Word on the Street</a>
            </div>
          </div>
        </div>
        <div class="col-sm-2">
          <h4>Brought to you by The Daily Pennsylvanian, Inc.</h4>
        </div>
      </div>
    </nav>
  </header>

  <div class="container-fluid" id="coffee">
    <div class="row">
      <div class="col-md-8 col-md-push-2 text-center">
          <img src="img/title.png" class="img img-responsive">
          <h2>a guide to coffee shops around campus</h2>
          <div id="sponsor" class="text-center">
            <div>BROUGHT TO YOU BY</div>
            <a href="https://www.hubbubcoffee.com/">
              <img src="img/hubbub.svg" style="width:190px;vertical-align:bottom;">
            </a>
          </div>
      </div>
    </div>

    <div class="row">
      <div id='map' class='map'> </div>
    </div>

    <div class="container" id="vendors">
      <div class="col-labels">
        <h5><span class="rotate">COFFEE</span></h5>
        <h5><span class="rotate">TEA</span></h5>
        <h5><span class="rotate">HOT CHOCOLATE</span></h5>
      </div>

      <div class="col-xs-12 coffee-container">
        <div class="col-sm-6">
          <div class="row">
            <div class="col-sm-6">
              <div class="row">
                <div class="col-xs-6">
                  <div class="dark vendor" id="hubbub">
                    <center>
                      <img class="logo" src="img/hubbubcup.svg">
                      <h3>HubBub</h3>
                      <br>
                      <h4>$2.60</h4>
                      <h4>$2.35</h4>
                      <h4>$3.75</h4>
                    </center>
                  </div>
                </div>
                <div class="col-xs-6">
                  <div class="medium vendor" id="metro">
                    <center>
                      <img class="logo" src="img/mug.svg">
                      <h3>Metro. Bakery</h3>
                      <br>
                      <h4>$2.25</h4>
                      <h4>$2.35</h4>
                      <h4>$3.50</h4>
                    </center>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-labels hidden-sm hidden-md hidden-lg">
              <h5><span class="rotate">COFFEE</span></h5>
              <h5><span class="rotate">TEA</span></h5>
              <h5><span class="rotate">HOT CHOCOLATE</span></h5>
            </div>

            <div class="col-sm-6">
              <div class="row">
                <div class="col-xs-6">
                  <div class="dark vendor" id="gl">
                    <center>
                      <img class="logo" src="img/pitcher.svg">
                      <h3>Green Line Cafe</h3>
                      <br>
                      <h4>$2.25</h4>
                      <h4>$2.25</h4>
                      <h4>$3.50</h4>
                    </center>
                  </div>
                </div>
                <div class="col-xs-6">
                  <div class="medium vendor" id="saxbys">
                    <center>
                      <img class="logo" src="img/latte.svg">
                      <h3>Saxbys</h3>
                      <br>
                      <h4>$2.25</h4>
                      <h4>$2.15</h4>
                      <h4>$3.20</h4>
                    </center>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-labels hidden-sm hidden-md hidden-lg">
          <h5><span class="rotate">COFFEE</span></h5>
          <h5><span class="rotate">TEA</span></h5>
          <h5><span class="rotate">HOT CHOCOLATE</span></h5>
        </div>

        <div class="col-sm-6">
          <div class="row">
            <div class="col-sm-6">
              <div class="row">
                <div class="col-xs-6">
                  <div class="dark vendor" id="ubb">
                    <center>
                      <img class="logo" src="img/unitedbyblue.svg">
                      <h3>United By Blue</h3>
                      <br>
                      <h4>$2.75</h4>
                      <h4>$3.00</h4>
                      <h4>$3.75</h4>
                    </center>
                  </div>
                </div>
                <div class="col-xs-6">
                  <div class="medium vendor" id="dunkin">
                    <center>
                      <img class="logo" src="img/icedcoffee.svg">
                      <h3>Dunkin' Donuts</h3>
                      <br>
                      <h4>$2.09</h4>
                      <h4>$1.89</h4>
                      <h4>$2.35</h4>
                    </center>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-labels hidden-sm hidden-md hidden-lg">
              <h5><span class="rotate">COFFEE</span></h5>
              <h5><span class="rotate">TEA</span></h5>
              <h5><span class="rotate">HOT CHOCOLATE</span></h5>
            </div>

            <div class="col-sm-6">
              <div class="row">
                <div class="col-xs-6">
                  <div class="dark vendor" id="wilcaf">
                    <center>
                      <img class="logo" src="img/papercup.svg">
                      <h3>Williams Cafe</h3>
                      <br>
                      <h4>$1.90</h4>
                      <h4>$1.90</h4>
                      <h4>$3.20</h4>
                    </center>
                  </div>
                </div>
                <div class="col-xs-6">
                  <div class="medium vendor" id="starbucks">
                    <center>
                      <img class="logo" src="img/starbucks.svg">
                      <h3>Starbucks</h3>
                      <br>
                      <h4>$2.25</h4>
                      <h4>$2.45</h4>
                      <h4>$3.25</h4>
                    </center>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-xs-12 text-center">
        <h2>Check out HubBub's</h2>
        <center>
          <a href="https://www.hubbubcoffee.com/">
            <img src="img/hubbubcoldbrew.png" class="img img-responsive">
          </a>
        </center>
      </div>
    </div>

    <footer class="row">
      <div class="col-xs-12 text-center">
        <hr>
        &copy; 2016 The Daily Pennsylvanian, all rights reserved. Made with ☕&nbsp;by the Web Development Team.
      </div>
    </footer>
  </div>
  <script>
    L.mapbox.accessToken = 'pk.eyJ1IjoiZGFpbHlwZW5uIiwiYSI6ImNpanFueGV4cTAyeWx0b201dXpzeGU3aDEifQ.6V-cf4TqyBJ9Yj9XXjQVJA';

    var geojson =
      {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "geometry": {
              "type": "Point",
              "coordinates": [-75.20337430000001, 39.9544892]
            },
            "properties": {
              "title": "Metropolitan Bakery",
              "address":"4013 Walnut St",
              "description":"<center>Hours:<br>7:30 a.m. to 6 p.m. (Monday-Friday)<br>8 a.m. to 6 p.m. (Saturday & Sunday)</center>",
              "id":"metro",
              "icon": {
                "iconUrl": 'img/bean.svg',
                "iconSize": [24, 24], // size of the icon
                "iconAnchor": [12, 12], // point of the icon which will correspond to marker's location
                "popupAnchor": [0, -12], // point from which the popup should open relative to the iconAnchor
                "className": 'dot'
              },
              "marker-color": "#8e4521",
              "marker-size": "large",
              "marker-symbol": "cafe"
            }
          },
          {
            "type": "Feature",
            "geometry": {
              "type": "Point",
              "coordinates": [-75.19318650000002, 39.9530897]
            },
            "properties": {
              "title": "United By Blue",
              "address":"3421 Walnut St",
              "description":"<center>Hours:<br>7 a.m. to 7 p.m. (Monday-Friday)<br>8 a.m. to 7 p.m. (Saturday & Sunday)</center>",
              "id":"ubb",
              "icon": {
                "iconUrl": 'img/bean.svg',
                "iconSize": [24, 24], // size of the icon
                "iconAnchor": [12, 12], // point of the icon which will correspond to marker's location
                "popupAnchor": [0, -12], // point from which the popup should open relative to the iconAnchor
                "className": 'dot'
              },
              "marker-color": "#8e4521",
              "marker-size": "large",
              "marker-symbol": "cafe"
            }
          },
          {
            "type": "Feature",
            "geometry": {
              "type": "Point",
              "coordinates": [-75.2032922, 39.95275]
            },
            "properties": {
              "title": "Saxbys",
              "address":"4000 Locust St",
              "description":"<center>Hours:<br>6:30 a.m. to 11 p.m. (Monday-Thursday)<br>6:30 a.m. to 9 p.m. (Friday)<br>7 a.m. to 9 p.m. (Saturday)<br>7 a.m. to 11 p.m. (Sunday)</center>",
              "id":"saxbys",
              "icon": {
                "iconUrl": 'img/bean.svg',
                "iconSize": [24, 24], // size of the icon
                "iconAnchor": [12, 12], // point of the icon which will correspond to marker's location
                "popupAnchor": [0, -12], // point from which the popup should open relative to the iconAnchor
                "className": 'dot'
              },
              "marker-color": "#8e4521",
              "marker-size": "large",
              "marker-symbol": "cafe"
            }
          },
          {
            "type": "Feature",
            "geometry": {
              "type": "Point",
              "coordinates": [-75.20227239999997, 39.95631170000001]
            },
            "properties": {
              "title": "Green Line Cafe",
              "address":"28 S 40th Street",
              "description":"<center>Hours:<br>7 a.m. to 7 p.m. (Monday-Friday)<br>8 a.m. to 6 p.m. (Saturday)<br>8 a.m. to 5 p.m. (Sunday)</center>",
              "id":"gl",
              "icon": {
                "iconUrl": 'img/bean.svg',
                "iconSize": [24, 24], // size of the icon
                "iconAnchor": [12, 12], // point of the icon which will correspond to marker's location
                "popupAnchor": [0, -12], // point from which the popup should open relative to the iconAnchor
                "className": 'dot'
              },
              "marker-color": "#8e4521",
              "marker-size": "large",
              "marker-symbol": "cafe"
            }
          },
          {
            "type": "Feature",
            "geometry": {
              "type": "Point",
              "coordinates": [-75.193505, 39.953139]
            },
            "properties": {
              "title": "Dunkin' Donuts",
              "address":"3437 Walnut Street",
              "description":"<center>Hours:<br>5 a.m. to 10 p.m. (Monday-Friday)<br>5:30 a.m. to 9 p.m. (Saturday & Sunday)</center>",
              "id":"dunkin",
              "icon": {
                "iconUrl": 'img/bean.svg',
                "iconSize": [24, 24], // size of the icon
                "iconAnchor": [12, 12], // point of the icon which will correspond to marker's location
                "popupAnchor": [0, -12], // point from which the popup should open relative to the iconAnchor
                "className": 'dot'
              },
              "marker-color": "#8e4521",
              "marker-size": "large",
              "marker-symbol": "cafe"
            }
          },
          {
            "type": "Feature",
            "geometry": {
              "type": "Point",
              "coordinates": [-75.19873960000001, 39.9509565]
            },
            "properties": {
              "title": "HubBub",
              "address":"3736 Spruce St",
              "description":"<center>Hours:<br>7 a.m. to 7 p.m. (Monday-Friday)<br>8 a.m. to 7 p.m. (Saturday & Sunday))</center>",
              "id":"hubbub",
              "icon": {
                "iconUrl": 'img/bean.svg',
                "iconSize": [24, 24], // size of the icon
                "iconAnchor": [12, 12], // point of the icon which will correspond to marker's location
                "popupAnchor": [0, -12], // point from which the popup should open relative to the iconAnchor
                "className": 'dot'
              },
              "marker-color": "#8e4521",
              "marker-size": "large",
              "marker-symbol": "cafe"
            }
          },
          {
            "type": "Feature",
            "geometry": {
              "type": "Point",
              "coordinates": [-75.20037000000002, 39.954081]
            },
            "properties": {
              "title": "Starbucks",
              "address":"3901 Walnut St",
              "description":"<center>Hours:<br>5:30 a.m. to 12 a.m. (Monday-Friday)<br>6 a.m. to 12 a.m. (Saturday)<br>6:30 a.m. to 10 p.m. (Sunday)</center>",
              "id":"starbucks",
              "icon": {
                "iconUrl": 'img/bean.svg',
                "iconSize": [24, 24], // size of the icon
                "iconAnchor": [12, 12], // point of the icon which will correspond to marker's location
                "popupAnchor": [0, -12], // point from which the popup should open relative to the iconAnchor
                "className": 'dot'
              },
              "marker-color": "#8e4521",
              "marker-size": "large",
              "marker-symbol": "cafe"
            }
          },
          {
            "type": "Feature",
            "geometry": {
              "type": "Point",
              "coordinates": [-75.19225, 39.953081]
            },
            "properties": {
              "title": "Starbucks",
              "address":"3401 Walnut St",
              "description":"<center>Hours:<br>5:30 a.m. to 12 a.m. (Monday-Friday)<br>6 a.m. to 12 a.m. (Saturday & Sunday)</center>",
              "id":"starbucks",
              "icon": {
                "iconUrl": 'img/bean.svg',
                "iconSize": [24, 24], // size of the icon
                "iconAnchor": [12, 12], // point of the icon which will correspond to marker's location
                "popupAnchor": [0, -12], // point from which the popup should open relative to the iconAnchor
                "className": 'dot'
              },
              "marker-color": "#8e4521",
              "marker-size": "large",
              "marker-symbol": "cafe"
            }
          },
          {
            "type": "Feature",
            "geometry": {
              "type": "Point",
              "coordinates": [-75.195022, 39.9508653]
            },
            "properties": {
              "title": "Williams Cafe",
              "address":"255 S 36th St",
              "description":"<center>Hours:<br>8:30 a.m. to 7:30 p.m. (Monday-Thursday)<br>8:30 a.m. to 5 p.m. (Friday)<br>Closed Saturday & Sunday</center>",
              "id":"wilcaf",
              "icon": {
                "iconUrl": 'img/bean.svg',
                "iconSize": [24, 24], // size of the icon
                "iconAnchor": [12, 12], // point of the icon which will correspond to marker's location
                "popupAnchor": [0, -12], // point from which the popup should open relative to the iconAnchor
                "className": 'dot'
              },
              "marker-color": "#8e4521",
              "marker-size": "large",
              "marker-symbol": "cafe"
            }
          }
        ]
      }
    ;
    var map = L.mapbox.map('map', '', {
      attributionControl: false,
      zoomControl: false,
      minZoom: 16,
      maxZoom: 16,
      maxBounds: [[39.96,-75.22],[39.945,-75.17]]
    }).setView([39.9538660000001, -75.19730770000001], 16);
    var listings = document.getElementById('listings');
    var locations = L.mapbox.featureLayer().addTo(map);
    locations.on('layeradd', function(e) {
      var marker = e.layer,
        feature = marker.feature;
      marker.setIcon(L.icon(feature.properties.icon));
    });
    locations.setGeoJSON(geojson);

    L.mapbox.styleLayer('mapbox://styles/dailypenn/cijqnygqv005y94kqwb3xs46l').addTo(map);


    // disable drag and zoom
    // map.dragging.disable();
    map.touchZoom.disable();
    map.doubleClickZoom.disable();
    map.scrollWheelZoom.disable();

    var credits = L.control.attribution().addTo(map);
    credits.addAttribution('©2016 The Daily Pennsylvanian. Maps © Mapbox © OpenStreetMaps');

    function setActive(el) {
        var siblings = document.getElementsByClassName('vendor');
        for (var i = 0; i < siblings.length; i++) {
          siblings[i].className = siblings[i].className
          .replace(/active/, '').replace(/\s\s*$/, '');
        }

        el.className += ' active';
      }

      locations.eachLayer(function(locale) {

        // Shorten locale.feature.properties to just `prop` so we're not
        // writing this long form over and over again.
        var prop = locale.feature.properties;

        var listing = document.getElementById(prop.id);
        var link = document.getElementById(prop.id);

        // Each marker on the map.
        var popup = '<h3 class="tooltip-title">' + prop.title + '</h3> <div class="tooltip-content"><div class="addr">' + prop.address + "</div><br>" + prop.description;

        link.onclick = function() {
          setActive(listing);
          map.setView(locale.getLatLng(), 16);
          locale.openPopup();
          return false;
        };

        // Marker interaction
        locale.on('click', function(e) {
          // Set active the markers associated listing.
          setActive(listing);
        });

        popup += '</div>';
        locale.bindPopup(popup);
    });
  </script>

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.js"></script>
  <script type="text/javascript">
  var secBtn = document.getElementById('section-dropdown-btn');
  var dropdown = document.getElementById('section-dropdown');
  secBtn.addEventListener("click", function() {
    'use strict';
    dropdown.classList.toggle('closed');
    secBtn.classList.toggle('closed');
  });
  </script>

</body>
</html>
